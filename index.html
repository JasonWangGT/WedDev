<!DOCTYPE html>
<html>
    <head>
        <title>Calculator website!</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="jquery-ui.css">
        <script src="jquery-3.2.1.min.js"></script>
        <script src="jquery-ui.js"></script>
        <script>
            $(document).ready(function() {
        
//                $("#clear").appendTo("#area");
                $(".operator-btn").draggable({
                    helper: "clone",
                    cursor: 'move',
                });
                
                var res = 0;
                $("#area").droppable({
                    drop: function (event, ui) {
                        var $canvas = $(this);
                        
                        if($('.operator-btn').attr('id') == 'add'){
                            console.log("add");
                            
                            $canvas.append('<input type="text" id="input1" class="input" name="fname">');
                            $canvas.append('<input type="text" id="input2" class="input" name="fname">');
//                            if (ui.draggable.hasClass('canvas-element')) {
//                                $(this).appendTo("#input1");
//                            }
                            var first = $('#input1').val();
                            var second = $('#input2').val();
                            res = parseInt(first) + parseInt(second);
                        }
                        else if($('.operator-btn').attr('id') == 'subtract'){
                            console.log("subtract");
                            $canvas.append('<input type="text" id="input3" class="input" name="fname">');
                            $canvas.append('<input type="text" id="input4" class="input" name="fname">');
                        }
                        else if($('.operator-btn').attr('id') == 'foo'){
                            console.log("foo");
                            $canvas.append('<input type="text" id="input5" class="input" name="fname">');
                        }
                        else{
                            console.log("doSthComplicated");
                            $canvas.append('<input type="text" id="input6" class="input" name="fname">');
                        }

                        if (!ui.draggable.hasClass('canvas-element')) {
                            var $canvasElement = ui.draggable.clone();
                            $canvasElement.addClass('canvas-element');
                            $canvasElement.draggable({
                                containment: '#container'
                            });
                            $canvas.append($canvasElement);
                            $canvasElement.css({
                                left: (ui.position.left),
                                top: (ui.position.top),
                            });
                        }
                    }  
                });
                
                $("button").click(function(){
                    console.log(parseInt(res), "hello");        //print the result, e.g addition, subtraction and complex result 
                    $( "#area" ).empty();
                });
            });
        </script>
    </head>

    
    
    <body>
        <div id="area"></div>
        <div id="operation-panel">
            <div id="add" class="operator-btn"><p>add</p></div>
            <div id="subtract" class="operator-btn"><p>subtract</p></div>
            <div id="foo" class="operator-btn"><p>foo</p></div>
            <div id="dosthcomplicated" class="operator-btn"><p>DoSthComplicated</p></div>
            <button id="clear">clear</button>
        </div>
    </body>

</html>